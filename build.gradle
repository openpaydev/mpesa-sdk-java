// Root build.gradle

plugins {
    // This is a community plugin, so we manage its version here for all subprojects.
    // 'apply false' makes it available but doesn't apply it to the root project. This is correct.
    id "com.vanniktech.maven.publish" version "0.25.3" apply false
}

// Configure settings common to ALL modules (including the root project itself)
allprojects {
    group = GROUP
    version = VERSION_NAME

    repositories {
        mavenCentral()
    }
}

// Configure settings that apply ONLY to the subprojects (i.e., 'core')
subprojects {
    // Apply the java-library plugin to every submodule
    apply plugin: 'java-library'

    // Configure Java settings common to all submodules
    java {
        toolchain {
            languageVersion = JavaLanguageVersion.of(11)
        }
        withJavadocJar()
        withSourcesJar()
    }

    // Configure testing framework for all submodules
    test {
        useJUnitPlatform()
    }
}